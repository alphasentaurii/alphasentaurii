<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Thinking Outside the Lego Box</title><!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v4.0.1" />
<meta property="og:title" content="Thinking Outside the Lego Box" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The Lego Model and Other Metaphysical Approaches to Data Science" />
<meta property="og:description" content="The Lego Model and Other Metaphysical Approaches to Data Science" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-12-07T10:23:47-08:00" />
<script type="application/ld+json">
{"datePublished":"2019-12-07T10:23:47-08:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/datascience/2019/12/07/thinking-outside-the-lego-box.html"},"url":"/datascience/2019/12/07/thinking-outside-the-lego-box.html","headline":"Thinking Outside the Lego Box","dateModified":"2019-12-07T10:23:47-08:00","description":"The Lego Model and Other Metaphysical Approaches to Data Science","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<html>
<head>

<style>
*{
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
}



body {
background-color: #000;
/*background-image:url(./back.png);*/
background-size:cover; 
/*background-size: 1920px 1165px;*/
background-repeat: no-repeat;
background-position: top; 
background-attachment:fixed;
line-height:1.4em;
overflow:auto;
margin:0px;
padding:0px;
}

body:before {
  content: "";
  position: relative;
  top: 0px;
  left: 50%;
  bottom: 0px;
  transform: translateX(-50%);
  width: 4px;
}

canvas {
width:99%;
height:99%;
background-color: transparent;
position: fixed;
clear:both;
z-index: 10;
}


.centered {
/*
position: fixed;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
*/
margin:100px auto;
z-index: 9999;
width:100%;
max-width:1485px;
height:auto;
}

img a {
border:none;
}

.logo {
width:100%;
max-width:1485px;
margin:0 auto;
border:none;
}

.button {
position:relative;
border: 1px solid #000;
background: #00111c;
background: #3b3b3b;
padding: 12.5px 25px;
color: #ccc;
font-size:25px;

text-decoration: none;
vertical-align: middle;
z-index:9999;
min-width:300px;
}
.button:hover {
background: #001f33;
color: #fff;
}
.button:active {
background: #000000;
}

@media only screen and (max-width: 600px) {
	.button {
	font-size:15px;
	}
}


body .entries {
position:relative;
top:10px;
width: calc(100% - 80px);
max-width: 1000px;
margin: auto;
left: -5px;

}
body .entries .entry {
  width: calc(50% - 70px);
  float: left;
  padding: 20px;
  clear: both;
  text-align: right;
}
body .entries .entry:not(:first-child) {
  margin-top: -60px;
}
body .entries .entry .title {

  margin-bottom: 12px;
  position: relative;
  color: #fff;
}
body .entries .entry .title:before {
  content: "";
  position: absolute;
  width: 8px;
  height: 8px;
  border: 4px solid #fff;
  background-color: #1d1d1d;
  border-radius: 100%;
  top: 50%;
  transform: translateY(-50%);
  right: -73px;
  z-index: 1000;
}
body .entries .entry .title.big:before {
  width: 24px;
  height: 24px;
  transform: translate(8px, -50%);
}
body .entries .entry .body {
  color: #aaa;
}
body .entries .entry .body p {
  line-height: 1.4em;
}
body .entries .entry:nth-child(2n) {
  text-align: left;
  float: right;
}
body .entries .entry:nth-child(2n) .title:before {
  left: -63px;
}
body .entries .entry:nth-child(2n) .title.big:before {
  transform: translate(-8px, -50%);
}

.grid {
width:100%;
display: -webkit-flex; /* Safari */
display: flex;
padding:10px 60px;
flex-wrap: wrap;
}

.col-quarter {
-webkit-flex: 1;  /* Safari 6.1+ */
-ms-flex: 1;  /* IE 10 */    
flex: 1;
margin:10px 80px;
flex-wrap: wrap;
}

.responsive-img {
max-width: 100%; 
display:block; 
height: auto;
min-width:200px;
}

#footer {
display:block;
position:relative;
z-index:9999;
background: #111;
text-align:center;
margin:0px;

}


</style>
</head>
<body>
<script>
    var canvas = document.getElementById('nokey'),
        can_w = parseInt(canvas.getAttribute('width')),
        can_h = parseInt(canvas.getAttribute('height')),
        ctx = canvas.getContext('2d');
    
    // console.log(typeof can_w);
    
    var ball = {
            x: 0,
            y: 0,
            vx: 0,
            vy: 0,
            r: 0,
            alpha: 1,
            phase: 0
        },
        ball_color = {
            r: 207,
            g: 255,
            b: 4
        },
        R = 2,
        balls = [],
        alpha_f = 0.03,
        alpha_phase = 0,
        
    // Line
        link_line_width = 0.8,
        dis_limit = 260,
        add_mouse_point = true,
        mouse_in = false,
        mouse_ball = {
            x: 0,
            y: 0,
            vx: 0,
            vy: 0,
            r: 0,
            type: 'mouse'
        };
    
    // Random speed
    function getRandomSpeed(pos){
        var  min = -1,
            max = 1;
        switch(pos){
            case 'top':
                return [randomNumFrom(min, max), randomNumFrom(0.1, max)];
                break;
            case 'right':
                return [randomNumFrom(min, -0.1), randomNumFrom(min, max)];
                break;
            case 'bottom':
                return [randomNumFrom(min, max), randomNumFrom(min, -0.1)];
                break;
            case 'left':
                return [randomNumFrom(0.1, max), randomNumFrom(min, max)];
                break;
            default:
                return;
                break;
        }
    }
    function randomArrayItem(arr){
        return arr[Math.floor(Math.random() * arr.length)];
    }
    function randomNumFrom(min, max){
        return Math.random()*(max - min) + min;
    }
    console.log(randomNumFrom(0, 10));
    // Random Ball
    function getRandomBall(){
        var pos = randomArrayItem(['top', 'right', 'bottom', 'left']);
        switch(pos){
            case 'top':
                return {
                    x: randomSidePos(can_w),
                    y: -R,
                    vx: getRandomSpeed('top')[0],
                    vy: getRandomSpeed('top')[1],
                    r: R,
                    alpha: 1,
                    phase: randomNumFrom(0, 10)
                }
                break;
            case 'right':
                return {
                    x: can_w + R,
                    y: randomSidePos(can_h),
                    vx: getRandomSpeed('right')[0],
                    vy: getRandomSpeed('right')[1],
                    r: R,
                    alpha: 1,
                    phase: randomNumFrom(0, 10)
                }
                break;
            case 'bottom':
                return {
                    x: randomSidePos(can_w),
                    y: can_h + R,
                    vx: getRandomSpeed('bottom')[0],
                    vy: getRandomSpeed('bottom')[1],
                    r: R,
                    alpha: 1,
                    phase: randomNumFrom(0, 10)
                }
                break;
            case 'left':
                return {
                    x: -R,
                    y: randomSidePos(can_h),
                    vx: getRandomSpeed('left')[0],
                    vy: getRandomSpeed('left')[1],
                    r: R,
                    alpha: 1,
                    phase: randomNumFrom(0, 10)
                }
                break;
        }
    }
    function randomSidePos(length){
        return Math.ceil(Math.random() * length);
    }
    
    // Draw Ball
    function renderBalls(){
        Array.prototype.forEach.call(balls, function(b){
            if(!b.hasOwnProperty('type')){
                ctx.fillStyle = 'rgba('+ball_color.r+','+ball_color.g+','+ball_color.b+','+b.alpha+')';
                ctx.beginPath();
                ctx.arc(b.x, b.y, R, 0, Math.PI*2, true);
                ctx.closePath();
                ctx.fill();
            }
        });
    }
    
    // Update balls
    function updateBalls(){
        var new_balls = [];
        Array.prototype.forEach.call(balls, function(b){
            b.x += b.vx;
            b.y += b.vy;
            
            if(b.x > -(50) && b.x < (can_w+50) && b.y > -(50) && b.y < (can_h+50)){
                new_balls.push(b);
            }
            
            // alpha change
            b.phase += alpha_f;
            b.alpha = Math.abs(Math.cos(b.phase));
            // console.log(b.alpha);
        });
        
        balls = new_balls.slice(0);
    }
    
    // loop alpha
    function loopAlphaInf(){
        
    }
    
    // Draw lines
    function renderLines(){
        var fraction, alpha;
        for (var i = 0; i < balls.length; i++) {
            for (var j = i + 1; j < balls.length; j++) {
                
                fraction = getDisOf(balls[i], balls[j]) / dis_limit;
                
                if(fraction < 1){
                    alpha = (1 - fraction).toString();
    
                    ctx.strokeStyle = 'rgba(150,150,150,'+alpha+')';
                    ctx.lineWidth = link_line_width;
                    
                    ctx.beginPath();
                    ctx.moveTo(balls[i].x, balls[i].y);
                    ctx.lineTo(balls[j].x, balls[j].y);
                    ctx.stroke();
                    ctx.closePath();
                }
            }
        }
    }
    
    // calculate distance between two points
    function getDisOf(b1, b2){
        var  delta_x = Math.abs(b1.x - b2.x),
            delta_y = Math.abs(b1.y - b2.y);
        
        return Math.sqrt(delta_x*delta_x + delta_y*delta_y);
    }
    
    // add balls if there a little balls
    function addBallIfy(){
        if(balls.length < 20){
            balls.push(getRandomBall());
        }
    }
    
    // Render
    function render(){
        ctx.clearRect(0, 0, can_w, can_h);
        
        renderBalls();
        
        renderLines();
        
        updateBalls();
        
        addBallIfy();
        
        window.requestAnimationFrame(render);
    }
    
    // Init Balls
    function initBalls(num){
        for(var i = 1; i <= num; i++){
            balls.push({
                x: randomSidePos(can_w),
                y: randomSidePos(can_h),
                vx: getRandomSpeed('top')[0],
                vy: getRandomSpeed('top')[1],
                r: R,
                alpha: 1,
                phase: randomNumFrom(0, 10)
            });
        }
    }
    // Init Canvas
    function initCanvas(){
        canvas.setAttribute('width', window.innerWidth);
        canvas.setAttribute('height', window.innerHeight);
        
        can_w = parseInt(canvas.getAttribute('width'));
        can_h = parseInt(canvas.getAttribute('height'));
    }
    window.addEventListener('resize', function(e){
        console.log('Window Resize...');
        initCanvas();
    });
    
    function goMovie(){
        initCanvas();
        initBalls(20);
        window.requestAnimationFrame(render);
    }
    goMovie();
    
    // Mouse effect
    canvas.addEventListener('mouseenter', function(){
        console.log('mouseenter');
        mouse_in = true;
        balls.push(mouse_ball);
    });
    canvas.addEventListener('mouseleave', function(){
        console.log('mouseleave');
        mouse_in = false;
        var new_balls = [];
        Array.prototype.forEach.call(balls, function(b){
            if(!b.hasOwnProperty('type')){
                new_balls.push(b);
            }
        });
        balls = new_balls.slice(0);
    });
    canvas.addEventListener('mousemove', function(e){
        var e = e || window.event;
        mouse_ball.x = e.pageX;
        mouse_ball.y = e.pageY;
        // console.log(mouse_ball);
    });
    </script>
</body>
</html><link rel="stylesheet" type="text/css" href="/assets/main-kali.css"></head>
<body>
    
    <div class="container"><header>
  <div class="menu">
    <ul></ul>

  </div>
</header>
<nav>
<a href="/">home</a>
<a href="/about.html">about</a>
<a href="/blog.html">blog</a>
<a href="/projects.html">projects</a>
</nav>

        
    <main>
      
      <small>7 December 2019</small>
<h1>Thinking Outside the Lego Box</h1>

<p class="view">by Ru Kein</p>

<h2 id="the-lego-model-and-other-metaphysical-approaches-to-data-science">The Lego Model and Other Metaphysical Approaches to Data Science</h2>

<p><strong>TODO</strong></p>
<ul>
  <li>Clean up the hideous default <code class="highlighter-rouge">Jekyll</code> markdown formatting of this post</li>
  <li>Add some pictures</li>
  <li>Rewrite the entire post because I originally wrote it as a stream of consciousness too late at night and I forgot to say anything about legos, which was the intended topic…Oops.</li>
</ul>

<h2 id="box-1-database-tables">Box #1: Database Tables</h2>

<ol>
  <li>Unpacking</li>
</ol>

<p>The project starts out with a giant box containing many smaller boxes, each of which contains thousands of individual data points. Your first task is to familiarize yourself with what each smaller box contains, noting the characteristics of each group, as well as how the groups relate to each other. These are the relationships that are already visible and known. Your job, however, is to determine new, unknown relationships that might be possible between some contents of only some of the various boxes.</p>

<ol>
  <li>Mixing and Measuring</li>
</ol>

<p>You also have at your disposal several measuring cups, that is, tools for measuring other characteristics of the boxes that will you help you uncover some clues about hidden relationships between individual pieces of data. Mathematically speaking, these are the statistical relationships such as the mean, variance, standard deviation, maximum and minimum, to name a few.</p>

<hr />

<h2 id="box-2-domain">Box #2: Domain</h2>

<ol>
  <li>Outside In vs Inside Out</li>
</ol>

<p>One of the main reasons companies hire a data scientist is to discover something they don’t already know based on information they already have. A common trap employees at most companies fall into is thinking too much from the inside looking out. They spend all their time thinking about the products they sell, and how to sell more of those products to people outside (customers).</p>

<ol>
  <li>Finding the Union: Customer Values and Company Mission</li>
</ol>

<p>The business processes currently place are set up to do this in a certain way based on current assumptions about what will achieve sales. 
However, the customers outside don’t care about any of this, obviously, and the entire marketing budget is spent basically trying to figure what it is they do actually care about and why. The only means of determining what customers do actually care about (apart from asking them directly, which is futile because the answers they give are unreliable for reasons I won’t get into here) - as it relates to the company’s products, exists in past sales metrics.</p>

<ol>
  <li>Predicting Preferences</li>
</ol>

<p>It’s not enough to know that 500 customers buy Product A every year, while another 500 buy Product B. We have to look at what characteristics the individuals of each group have in common, and how that might have a relationship with the characteristics of the product they buy in order to make assumptions about WHY they buy that one and not the other. To make it more complicated, it would be great to know why they buy this company’s product, instead of a competitor’s similar offer.</p>

<ol>
  <li>Probabilities and Bayesian Stats</li>
</ol>

<p>The way we go about inferring any of these hidden relationships is by entering the world of Probabilities and Bayesian statistics in particular.</p>

<hr />

<h2 id="box-3-system">Box #3: System</h2>

<ol>
  <li>The Meta Box: Problem &gt; Solution</li>
</ol>

<p>The biggest box of the project is the one you didn’t realize you’re standing in yourself, along with all the data and the client that sent it to you to analyze. It’s a bit invisible meta-box that has everyone focused on finding an answer to a specific question. The problem here is that all your work is being done based on the assumption that you’re asking the right question. The hypothesis you formulate will be based on the question being asked, and the question itself is based on an assumption about the existence of a bigger problem that needs to be solved. If a company’s primary focus is on the bottom-line (which most tend to be), the question, the hypothesis, and the results will all be driven by solutions that relate directly to revenues, margins, costs, velocity, etc. This makes it easy to miss opportunities for value-creation which might only be detectable by looking at qualitative and categorical data.</p>

<ol>
  <li>The Invisible Unquantifiables</li>
</ol>

<p>There are more nuanced considerations which can be difficult to quantify such as brand, as well as the psychological and behavioral elements of customers not directly visible in their demographics. Take two identical products, each sold by two different companies and you’ll be amazed at how different people exhibit a clear distinction in preference for one over the other - the only actual difference the two products have is in the logo slapped on each one. The logos have different colors and different wordmarks - but it’s not as simple as customer 1 likes red and unknowingly chose the product with the red logo basically only because of this color preference. That could actually be the case - but more often, customers just tend to like one brand because it’s familiar to them, and I could write an entire article about what “familiarity” really means because it is itself extremely nuanced - briefly two examples could be “this is what my grandpa always bought” and now you have brand trust based on sentimental values and family tradition. It could be crap, but it’s the crap they know and love. Try to get them to buy a new and improved one, and you will be heavily resisted for no reason that can explained rationally. The more obvious example is based on rational things like reliability, quality, ease, efficiency, and other characteristics the customer has come to associate with the brand and its products overall based on experience. Where’s the dataset for all of this? Good question.</p>

<ol>
  <li>Questioning How You Question: Rethinking System Design</li>
</ol>

<p>If you thought I was going to provide an answer in this 3rd box, you forgot the whole reason I added this one, which is to make a point about focusing more on exploring the questions themselves rather than finding a solution that may or may not be the one you actually needed if your question was misguided to begin with. If this seems overly philosophical, that’s because the box we get stuck in is the assumption about the overall system we have already built for us. It’s a valuable if not annoying question that needs to be asked and usually is avoided - is the system we have for collecting and analyzing all this data the best system possible, and if we were to create a new system from scratch to increase the reliability of our results, what would that system look like? Such a question represents a fundamental line where data science and software architecture link together.</p>



  <small>tags: <em></em></small>

<link rel="stylesheet" type="text/css" href="/assets/kali.css">

<canvas id="nokey">
    Your Browser Doesn't Support Canvas, Please Download Chrome or compatible browser.
</canvas>


<script>
var canvas = document.getElementById('nokey'),
    can_w = parseInt(canvas.getAttribute('width')),
    can_h = parseInt(canvas.getAttribute('height')),
    ctx = canvas.getContext('2d');

// console.log(typeof can_w);

var ball = {
        x: 0,
        y: 0,
        vx: 0,
        vy: 0,
        r: 0,
        alpha: 1,
        phase: 0
    },
    ball_color = {
        r: 207,
        g: 255,
        b: 4
    },
    R = 2,
    balls = [],
    alpha_f = 0.03,
    alpha_phase = 0,
    
// Line
    link_line_width = 0.8,
    dis_limit = 260,
    add_mouse_point = true,
    mouse_in = false,
    mouse_ball = {
        x: 0,
        y: 0,
        vx: 0,
        vy: 0,
        r: 0,
        type: 'mouse'
    };

// Random speed
function getRandomSpeed(pos){
    var  min = -1,
        max = 1;
    switch(pos){
        case 'top':
            return [randomNumFrom(min, max), randomNumFrom(0.1, max)];
            break;
        case 'right':
            return [randomNumFrom(min, -0.1), randomNumFrom(min, max)];
            break;
        case 'bottom':
            return [randomNumFrom(min, max), randomNumFrom(min, -0.1)];
            break;
        case 'left':
            return [randomNumFrom(0.1, max), randomNumFrom(min, max)];
            break;
        default:
            return;
            break;
    }
}
function randomArrayItem(arr){
    return arr[Math.floor(Math.random() * arr.length)];
}
function randomNumFrom(min, max){
    return Math.random()*(max - min) + min;
}
console.log(randomNumFrom(0, 10));
// Random Ball
function getRandomBall(){
    var pos = randomArrayItem(['top', 'right', 'bottom', 'left']);
    switch(pos){
        case 'top':
            return {
                x: randomSidePos(can_w),
                y: -R,
                vx: getRandomSpeed('top')[0],
                vy: getRandomSpeed('top')[1],
                r: R,
                alpha: 1,
                phase: randomNumFrom(0, 10)
            }
            break;
        case 'right':
            return {
                x: can_w + R,
                y: randomSidePos(can_h),
                vx: getRandomSpeed('right')[0],
                vy: getRandomSpeed('right')[1],
                r: R,
                alpha: 1,
                phase: randomNumFrom(0, 10)
            }
            break;
        case 'bottom':
            return {
                x: randomSidePos(can_w),
                y: can_h + R,
                vx: getRandomSpeed('bottom')[0],
                vy: getRandomSpeed('bottom')[1],
                r: R,
                alpha: 1,
                phase: randomNumFrom(0, 10)
            }
            break;
        case 'left':
            return {
                x: -R,
                y: randomSidePos(can_h),
                vx: getRandomSpeed('left')[0],
                vy: getRandomSpeed('left')[1],
                r: R,
                alpha: 1,
                phase: randomNumFrom(0, 10)
            }
            break;
    }
}
function randomSidePos(length){
    return Math.ceil(Math.random() * length);
}

// Draw Ball
function renderBalls(){
    Array.prototype.forEach.call(balls, function(b){
        if(!b.hasOwnProperty('type')){
            ctx.fillStyle = 'rgba('+ball_color.r+','+ball_color.g+','+ball_color.b+','+b.alpha+')';
            ctx.beginPath();
            ctx.arc(b.x, b.y, R, 0, Math.PI*2, true);
            ctx.closePath();
            ctx.fill();
        }
    });
}

// Update balls
function updateBalls(){
    var new_balls = [];
    Array.prototype.forEach.call(balls, function(b){
        b.x += b.vx;
        b.y += b.vy;
        
        if(b.x > -(50) && b.x < (can_w+50) && b.y > -(50) && b.y < (can_h+50)){
            new_balls.push(b);
        }
        
        // alpha change
        b.phase += alpha_f;
        b.alpha = Math.abs(Math.cos(b.phase));
        // console.log(b.alpha);
    });
    
    balls = new_balls.slice(0);
}

// loop alpha
function loopAlphaInf(){
    
}

// Draw lines
function renderLines(){
    var fraction, alpha;
    for (var i = 0; i < balls.length; i++) {
        for (var j = i + 1; j < balls.length; j++) {
            
            fraction = getDisOf(balls[i], balls[j]) / dis_limit;
            
            if(fraction < 1){
                alpha = (1 - fraction).toString();

                ctx.strokeStyle = 'rgba(150,150,150,'+alpha+')';
                ctx.lineWidth = link_line_width;
                
                ctx.beginPath();
                ctx.moveTo(balls[i].x, balls[i].y);
                ctx.lineTo(balls[j].x, balls[j].y);
                ctx.stroke();
                ctx.closePath();
            }
        }
    }
}

// calculate distance between two points
function getDisOf(b1, b2){
    var  delta_x = Math.abs(b1.x - b2.x),
        delta_y = Math.abs(b1.y - b2.y);
    
    return Math.sqrt(delta_x*delta_x + delta_y*delta_y);
}

// add balls if there a little balls
function addBallIfy(){
    if(balls.length < 20){
        balls.push(getRandomBall());
    }
}

// Render
function render(){
    ctx.clearRect(0, 0, can_w, can_h);
    
    renderBalls();
    
    renderLines();
    
    updateBalls();
    
    addBallIfy();
    
    window.requestAnimationFrame(render);
}

// Init Balls
function initBalls(num){
    for(var i = 1; i <= num; i++){
        balls.push({
            x: randomSidePos(can_w),
            y: randomSidePos(can_h),
            vx: getRandomSpeed('top')[0],
            vy: getRandomSpeed('top')[1],
            r: R,
            alpha: 1,
            phase: randomNumFrom(0, 10)
        });
    }
}
// Init Canvas
function initCanvas(){
    canvas.setAttribute('width', window.innerWidth);
    canvas.setAttribute('height', window.innerHeight);
    
    can_w = parseInt(canvas.getAttribute('width'));
    can_h = parseInt(canvas.getAttribute('height'));
}
window.addEventListener('resize', function(e){
    console.log('Window Resize...');
    initCanvas();
});

function goMovie(){
    initCanvas();
    initBalls(20);
    window.requestAnimationFrame(render);
}
goMovie();

// Mouse effect
canvas.addEventListener('mouseenter', function(){
    console.log('mouseenter');
    mouse_in = true;
    balls.push(mouse_ball);
});
canvas.addEventListener('mouseleave', function(){
    console.log('mouseleave');
    mouse_in = false;
    var new_balls = [];
    Array.prototype.forEach.call(balls, function(b){
        if(!b.hasOwnProperty('type')){
            new_balls.push(b);
        }
    });
    balls = new_balls.slice(0);
});
canvas.addEventListener('mousemove', function(e){
    var e = e || window.event;
    mouse_ball.x = e.pageX;
    mouse_ball.y = e.pageY;
    // console.log(mouse_ball);
});
</script>

</main><footer>
  Copyright (c) 2020 Ru Keïn
</footer>
</div>
    
  </body>
</html>
